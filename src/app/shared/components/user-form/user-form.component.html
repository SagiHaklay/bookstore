<form class="form" [formGroup]="userForm" (ngSubmit)="onFormSubmit()">
    <div class="form-group">
        <label for="username">Username:</label>
        <input class="form-control" id="username" type="text" formControlName="username" />
        <div 
            *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.touched" 
            class="error-msg"
        >Username required!</div>
    </div>
    <div class="form-group">
        <label for="email">E-mail:</label>
        <input class="form-control" id="email" type="email" formControlName="email" />
        <div 
            *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" 
            class="error-msg"
        >{{getEmailErrorMessage()}}</div>
    </div>
    <div *ngIf="includePassword" class="form-group">
        <label for="password">Password:</label>
        <input class="form-control" id="password" type="password" formControlName="password" />
        <div 
            *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched" 
            class="error-msg"
        >Password required!</div>
    </div>
    <div *ngIf="includePassword" class="form-group">
        <label for="repeatPassword">Repeat Password:</label>
        <input class="form-control" id="repeatPassword" type="password" formControlName="repeatPassword" />
        <div 
            *ngIf="userForm.get('repeatPassword')?.invalid && userForm.get('repeatPassword')?.touched" 
            class="error-msg"
        >Password repeat required!</div>
    </div>
    <div *ngIf="userForm.errors && userForm.errors['passwordRepeatError'] && userForm.get('repeatPassword')?.touched" class="error-msg">Passwords must be identical!</div>
    <div class="btn-container">
        <button class="submit-btn" [disabled]="userForm.invalid" type="submit">Submit</button>
        <button *ngIf="includeCancel" class="submit-btn" type="button" (click)="onCancelClick()">Cancel</button>
    </div>
</form>